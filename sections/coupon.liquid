{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.mobile_padding_top }}px;
    padding-bottom: {{ section.settings.mobile_padding_bottom }}px;
  }
  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .coupon__heading {
    text-align: center;
    margin-bottom: 2.5rem;
  }
  .coupon__heading h2, .coupon__heading p {
    margin: 0;
  }
  
  .coupon__position-wrapper {
    display: flex;
    justify-content: center;
  }
  .coupon__position-wrapper--left { justify-content: flex-start; }
  .coupon__position-wrapper--right { justify-content: flex-end; }

  .coupon__box {
    width: 100%;
    max-width: 39rem;
  }
  
  .coupon__box--has-container {
    background-color: #F2F0F0;
    padding: 3rem;
  }

  .coupon__box--align-left { text-align: left; }
  .coupon__box--align-center { text-align: center; }
  .coupon__box--align-right { text-align: right; }

  .coupon__subheading {
    font-weight: bold;
    font-size: 1.125rem;
    margin: 0 0 0.5rem;
  }
  .coupon__caption {
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0;
  }
  .coupon__detail-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    width: 100%;
    justify-content: center;
    margin: 1.5rem 0;
    font-size: 0.89rem;
  }
  .coupon__detail-button:hover { text-decoration: underline; }
  .coupon__code {
    display: inline-block;
    border: 1px solid #e0e0e0;
    padding: 1rem 2rem;
    background-color: #fff;
    margin-bottom: 1.5rem;
  }
  .coupon__description {
    font-size: 0.9rem;
    line-height: 1.6;
    color: #555;
    margin-top: 1.5rem;
  }
  .coupon__description p {
    margin: 0;
  }
  .coupon__note {
    text-align: center;
    font-size: 1rem;
    color: #555;
    margin-top: 2rem;
  }

  .coupon__box--align-right .coupon__detail-button,
  .coupon__box--align-left .coupon__detail-button {
    display: flex;
  }
  .coupon__box--align-left .coupon__detail-button { justify-content: flex-start; }
  .coupon__box--align-right .coupon__detail-button { justify-content: flex-end; }
  
{%- endstyle -%}

<div class="coupon-section section-{{ section.id }}-padding">
  <div class="page-width">
    {%- if section.settings.heading != blank -%}
      <div class="coupon__heading">
        <h2 class="{{ section.settings.heading_size }}">{{ section.settings.heading }}</h2>
      </div>
    {%- endif -%}

    <div class="coupon__position-wrapper coupon__position-wrapper--{{ section.settings.desktop_content_position }}">
      <div
        class="
          coupon__box
          coupon__box--align-{{ section.settings.content_alignment }}
          {% if section.settings.has_container %}coupon__box--has-container{% endif %}
        "
      >
        {%- if section.settings.subheading != blank -%}
          <div class="coupon__subheading">{{ section.settings.subheading }}</div>
        {%- endif -%}

        {%- if section.settings.caption != blank -%}
          <p class="coupon__caption">{{ section.settings.caption }}</p>
        {%- endif -%}

        {%- if section.settings.button_label != blank and section.settings.button_link != blank -%}
          <a href="{{ section.settings.button_link }}" class="coupon__detail-button">
            <span>{{ section.settings.button_label }}</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>
          </a>
        {%- endif -%}

        {%- if section.settings.code != blank -%}
          <div class="coupon__code">{{ section.settings.code }}</div>
        {%- endif -%}

        {%- if section.settings.description != blank -%}
          <div class="coupon__description rte">{{ section.settings.description }}</div>
        {%- endif -%}
      </div>
    </div>

    {%- if section.settings.note != blank -%}
      <div class="coupon__note">{{ section.settings.note }}</div>
    {%- endif -%}
  </div>
</div>

{% if section.settings.show_section_divider %}
  <div class="page-width"><hr></div>
{% endif %}


{% schema %}
{
  "name": "Coupon",
  "tag": "section",
  "class": "section",
  "settings": [
    { "type": "richtext", "id": "heading", "label": "Heading", "default": "<p>ALL AVAILABLE COUPONS:</p>" },
    {
      "type": "select", "id": "heading_size", "label": "Heading size",
      "options": [
        { "value": "h4", "label": "Extra Small" },
        { "value": "h3", "label": "Small" },
        { "value": "h2", "label": "Medium" },
        { "value": "h1", "label": "Large" }
      ],
      "default": "h3"
    },
    { "type": "richtext", "id": "subheading", "label": "Subheading", "default": "<p>Free Shipping</p>" },
    { "type": "text", "id": "caption", "label": "Caption", "default": "GET FREE 2-DAY DELIVERY ON MOST ORDERS OVER $199" },
    { "type": "text", "id": "code", "label": "Code", "default": "No Code Needed" },
    { "type": "text", "id": "button_label", "label": "Button label", "default": "Full Detail here" },
    { "type": "url", "id": "button_link", "label": "Button link" },
    { "type": "richtext", "id": "description", "label": "Description", "default": "<p>*Free 2-day delivery is valid for orders over $199, in the U.S only ( Excludes Alaska, Hawaii and Puerto Rico...</p>" },
    { "type": "text", "id": "note", "label": "Note", "default": "No coupons are valid with other offers or valid towards the purchase of gift cards." },
    { "type": "checkbox", "id": "has_container", "label": "Content has container?", "default": true },
    {
      "type": "radio", "id": "desktop_content_position", "label": "Desktop content position",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "radio", "id": "content_alignment", "label": "Content alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    { "type": "header", "content": "Section padding - desktop" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 100, "step": 4, "unit": "px", "label": "Top padding", "default": 80 },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 100, "step": 4, "unit": "px", "label": "Bottom padding", "default": 0 },
    { "type": "header", "content": "Section padding - mobile" },
    { "type": "range", "id": "mobile_padding_top", "min": 0, "max": 100, "step": 4, "unit": "px", "label": "Mobile top padding", "default": 48 },
    { "type": "range", "id": "mobile_padding_bottom", "min": 0, "max": 100, "step": 4, "unit": "px", "label": "Mobile bottom padding", "default": 0 },
    { "type": "checkbox", "id": "show_section_divider", "label": "Show section divider at the end", "default": false }
  ],
  "presets": [
    {
      "name": "Coupon"
    }
  ]
}
{% endschema %}